{{>header}}
<main class="main">
  <section id="quote" class="quote section">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-lg-10">
          <div class="quote-form">
            <h3>Añadir juego</h3>

            {{#hasErrors}}
            <div class="alert alert-danger alert-dismissible fade show mb-4" role="alert"
              style="border-left: 5px solid #890f00;">
              <strong><i class="bi bi-exclamation-triangle-fill me-2"></i> Ups! Hay errores:</strong>

              <ul class="mt-2 mb-0">
                {{#allErrors}}
                <li>{{.}}</li>
                {{/allErrors}}
              </ul>
              <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
            {{/hasErrors}}

            <form method="post" action="/game_form" enctype="multipart/form-data" class="php-email-form">

              {{#game}}
              <div class="form">
                <input type="hidden" name="gameId" value="{{#gameId}}{{gameId}}{{/gameId}}" />
                <div class="form-field full-width">
                  <label for="gameName" class="required-label">Nombre del Juego</label>
                  <input type="text" name="gameName" id="gameName" value="{{#gameName}}{{gameName}}{{/gameName}}"
                    class="form-control" required>
                </div>

                <div class="form-field full-width mt-3">
                  <label for="gameDescription" class="required-label">Descripción</label>
                  <textarea name="gameDescription" id="gameDescription" rows="4" class="form-control" required
                    >{{#gameDescription}}{{gameDescription}}{{/gameDescription}}</textarea>
                                  </div>

                <div class="form-field mt-3">
                  <label for="genre" class="required-label">Género</label>
                  <input type="text" name="genre" id="genre" value="{{#genre}}{{genre}}{{/genre}}" class="form-control"
                    required>
                </div>

                <div class="row mt-4 p-3 mb-2 bg-light rounded border">
                  <div class="col-12 mb-2">
                    <h6 class="text-primary border-bottom">Jugadores</h6>
                  </div>
                  <div class="col-md-6 form-field">
                    <label for="minPlayers">Mínimo</label>
                    <input type="number" name="minPlayers" id="minPlayers"
                      value="{{#minPlayers}}{{minPlayers}}{{/minPlayers}}" class="form-control" min="1">
                  </div>
                  <div class="col-md-6 form-field">
                    <label for="maxPlayers">Máximo</label>
                    <input type="number" name="maxPlayers" id="maxPlayers"
                      value="{{#maxPlayers}}{{maxPlayers}}{{/maxPlayers}}" class="form-control" min="1">
                  </div>
                </div>

                <div class="row mt-3 p-3 mb-2 bg-light rounded border">
                  <div class="col-12 mb-2">
                    <h6 class="text-primary border-bottom">Duración (minutos)</h6>
                  </div>
                  <div class="col-md-6 form-field">
                    <label for="minDuration">Mínima</label>
                    <input type="number" name="minDuration" id="minDuration"
                      value="{{#minDuration}}{{minDuration}}{{/minDuration}}" class="form-control" min="1">
                  </div>
                  <div class="col-md-6 form-field">
                    <label for="maxDuration">Máxima</label>
                    <input type="number" name="maxDuration" id="maxDuration"
                      value="{{#maxDuration}}{{maxDuration}}{{/maxDuration}}" class="form-control" min="1">
                  </div>
                </div>

                <div class="form-field mt-3">
                  <label for="imageField">Imagen de portada</label>
                  <input type="file" name="imageField" id="imageField" class="form-control">
                </div>
              </div>
              {{/game}}

              <div class="row mt-4">
                <div class="col-lg-3">
                  <a href="/games" class="submit-btn text-center pt-2"
                    style="text-decoration:none; display:block; background: #6c757d;">Atrás</a>
                </div>
                <div class="col-lg-2"></div>
                <div class="col-lg-3">
                  <button type="submit" class="submit-btn"><span>Guardar Juego</span></button>
                </div>
              </div>

              <input type="hidden" name="_csrf" value="{{token}}" />
            </form>
          </div>
        </div>
      </div>
    </div>
  </section>
</main>
{{>footer}}