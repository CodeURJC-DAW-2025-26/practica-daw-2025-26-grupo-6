{{>header}}

<main class="main">

  {{^noEvents}}
  <section id="next-events" class="next-events section light-background">
    <div id="next-events-carousel" class="carousel slide" data-bs-ride="carousel">
      <div class="carousel-inner">
        <div class="row">
          <div class="col-1">
            {{#moreThanOne}}
            <button class="carousel-control-prev" type="button" data-bs-target="#next-events-carousel"
              data-bs-slide="prev" data-bs-theme="dark">
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Previous</span>
            </button>
            {{/moreThanOne}}
          </div>

          <div class="col-10">
            {{#nextEvents}}
            <div class="carousel-item {{#isActive}}active{{/isActive}}">
              <div class="container project-details">
                <div class="row">
                  <div class="col-lg-5">
                    <div class="project-hero">
                      <img src="/images/{{event.eventImage.id}}" class="img-fluid rounded" alt="{{event.eventName}}">
                    </div>
                  </div>
                  <div class="col-lg-7">
                    <div class="project-info">
                      <h1 class="project-title">{{event.eventName}}</h1>

                      <div
                        class="d-inline-block bg-danger text-white rounded-pill px-3 py-1 mb-3 fw-bold countdown-timer"
                        data-date="{{event.eventDate}}">
                        <i class="bi bi-hourglass-split me-1"></i> Calculando tiempo...
                      </div>

                      <div class="project-description mb-3"
                        style="display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden; word-break: break-all;">
                        {{event.eventDescription}}
                      </div>

                      <a href="/event/{{event.eventId}}" class="btn btn-outline-dark rounded-pill shadow-sm">
                        <i class="bi bi-info-circle me-1"></i> Ver detalles
                      </a>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            {{/nextEvents}}
          </div>

          <div class="col-1">
            {{#moreThanOne}}
            <button class="carousel-control-next" type="button" data-bs-target="#next-events-carousel"
              data-bs-slide="next" data-bs-theme="dark">
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Next</span>
            </button>
            {{/moreThanOne}}
          </div>
        </div>
      </div>
    </div>
  </section>
  {{/noEvents}}

  <section id="latest-news" class="projects section">
    <div class="container" data-aos="fade-up">
      <div class="section-header text-center mb-5">
        <h2>Últimas Noticias</h2>
        <p>Mantente al día de lo que ocurre en la asociación</p>
      </div>

      <div class="row gy-4">
        {{#latestNews}}
        <div class="col-lg-4 col-md-6" data-aos="fade-up">
          <div class="project-card h-100">
            <div class="project-image" style="height: 200px; overflow: hidden;">
              <img src="/images/{{newImage.id}}" alt="{{newName}}" class="img-fluid w-100 h-100"
                style="object-fit: cover;">
            </div>
            <div class="project-info p-3">
              <div class="project-category mb-2">{{newTag}}</div>
              <h4 class="project-title">{{newName}}</h4>
              <p class="project-description"
                style="display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; min-height: 3em; word-break: break-all;">
                {{newDescription}}
              </p>
              <div class="mt-3">
                <a href="/new/{{newId}}" class="btn btn-outline-danger rounded-pill btn-sm px-3">
                  Leer más <i class="bi bi-arrow-right ms-1"></i>
                </a>
              </div>
            </div>
          </div>
        </div>
        {{/latestNews}}

        {{^latestNews}}
        <div class="col-lg-4 col-md-6">
          <div class="project-card shadow-sm border-0" style="opacity: 0.7; border: 2px dashed #ccc !important;">
            <div class="project-image"
              style="height: 200px; background: #f8f9fa; display: flex; align-items: center; justify-content: center;">
              <i class="bi bi-newspaper fs-1 text-muted"></i>
            </div>
            <div class="project-info text-center p-3">
              <h4 class="project-title text-muted">Próxima noticia</h4>
              <p class="project-description">Estamos preparando novedades. ¡Vuelve pronto!</p>
            </div>
          </div>
        </div>
        {{/latestNews}}
      </div>

      <div class="text-center mt-5">
        <a href="/news" class="btn btn-outline-dark rounded-pill px-4">
          Todas las noticias <i class="bi bi-arrow-right ms-2"></i>
        </a>
      </div>
    </div>
  </section>

  <section id="featured-games" class="projects section light-background">
    <div class="container" data-aos="fade-up">
      <div class="section-header text-center mb-5">
        <h2>Juegos Destacados</h2>
        <p>Los últimos añadidos a la ludoteca</p>
      </div>

      <div class="row gy-4">
        {{#featuredGames}}
        <div class="col-lg-4 col-md-6" data-aos="fade-up">
          <div class="project-card h-100">
            <div class="project-image" style="height: 200px; overflow: hidden;">
              <img src="/images/{{gameImage.id}}" alt="{{gameName}}" class="img-fluid w-100 h-100"
                style="object-fit: cover;">
            </div>
            <div class="project-info p-3">
              <div class="project-category mb-2">{{genre}}</div>
              <h4 class="project-title">{{gameName}}</h4>
              <p class="project-description"
                style="display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; min-height: 3em; word-break: break-all;">
                {{gameDescription}}
              </p>
              <div class="mt-3">
                <a href="/game/{{gameId}}" class="btn btn-outline-danger rounded-pill btn-sm px-3">
                  Ver Detalles <i class="bi bi-arrow-right ms-1"></i>
                </a>
              </div>
            </div>
          </div>
        </div>
        {{/featuredGames}}

        {{^featuredGames}}
        <div class="col-lg-4 col-md-6">
          <div class="project-card shadow-sm border-0" style="opacity: 0.7; border: 2px dashed #ccc !important;">
            <div class="project-image"
              style="height: 200px; background: #f8f9fa; display: flex; align-items: center; justify-content: center;">
              <i class="bi bi-controller fs-1 text-muted"></i>
            </div>
            <div class="project-info text-center p-3">
              <h4 class="project-title text-muted">Añadiendo juegos</h4>
              <p class="project-description">Nuestra ludoteca sigue creciendo...</p>
            </div>
          </div>
        </div>
        {{/featuredGames}}
      </div>

      <div class="text-center mt-5">
        <a href="/games" class="btn btn-outline-dark rounded-pill px-4">
          Ver ludoteca completa <i class="bi bi-arrow-right ms-2"></i>
        </a>
      </div>
    </div>
  </section>


  <section id="about" class="about section">

    <div class="container" data-aos="fade-up" data-aos-delay="100">

      <div class="row justify-content-between align-items-center">

        <div class="col-lg-7 order-2 order-lg-1" data-aos="fade-right" data-aos-delay="200">
          <div class="content">
            <h2 class="section-heading mt-5 mb-4">¿Quiénes somos?</h2>

            <p class="lead-text mb-4" style="text-align: justify;">
              La Caverna del Dragón es el punto de encuentro del ocio alternativo en la URJC: somos una comunidad de
              estudiantes apasionados por el rol, los juegos de mesa y los videojuegos.
              <br><br>
              Organizamos todo tipo de eventos: desde nuestras famosas Jornadas Anuales de Introducción al
              Rol, hasta tardes de juegos de mesa, torneos competitivos y mucho más. ¡Ven a conocernos sin compromiso!
            </p>

            <p class="description-text mb-3" style="text-align: justify;">
              Puedes encontrarnos de lunes a viernes en el campus de Móstoles,
              Laboratorios Polivalentes II, Sótano 008.
            </p>

            <p class="description-text mb-2">Para más información, no dudes en escribirnos por correo o cualquiera de
              nuestras redes sociales:</p>

            <p class="description-text mb-1">
              <i class="bi bi-envelope me-2"></i>
              <a href="mailto:lcddoficial@gmail.com">lcddoficial@gmail.com</a>
            </p>
            <p class="description-text mb-1">
              <i class="bi bi-twitter-x me-2"></i>
              <a href="https://x.com/lcdd_urjc">@lcdd_urjc</a>
            </p>
            <p class="description-text mb-4">
              <i class="bi bi-instagram me-2"></i>
              <a href="https://www.instagram.com/lcdd_urjc">@lcdd_urjc</a>
            </p>
          </div>
        </div>

        <div class="col-lg-5 order-1 order-lg-2" data-aos="fade-left" data-aos-delay="200">
          <div class="image-section">
            <div class="main-image" style="max-width: 75%; margin-left: auto;">
              <img src="/img/poster.jpg" alt="La Caverna Del Dragón" class="img-fluid">
            </div>
          </div>
        </div>
      </div>

    </div>
    </div>

    </div>

    </div>

  </section>

  {{>footer}}