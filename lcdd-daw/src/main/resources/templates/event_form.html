{{>header}}

<main class="main">
  <section id="quote" class="quote section">
    <div class="container" data-aos="fade-up">
      <div class="row justify-content-center">
        <div class="col-lg-10">
          <div class="quote-form">
            <div class="form-intro">
              <h3>Añadir o modificar evento</h3>
            </div>

            {{#hasErrors}}
            <div class="alert alert-danger alert-dismissible fade show mb-4" role="alert"
              style="border-left: 5px solid #890f00;">
              <strong><i class="bi bi-exclamation-triangle-fill me-2"></i> Ups! Hay errores:</strong>
              <ul class="mt-2 mb-0">
                {{#allErrors}} <li>{{.}}</li> {{/allErrors}}
              </ul>
              <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
            {{/hasErrors}}

            <form method="post" action="/event_form" enctype="multipart/form-data" class="php-email-form">

              {{#event}} <div class="form">

                <div class="form-field">
                  <label for="eventName" class="required-label">Nombre:</label>
                  <input type="text" name="eventName" id="eventName" value="{{eventName}}"
                    class="form-control {{#eventNameError}}is-invalid{{/eventNameError}}" required>
                </div>
                <br>

                <div class="form-field full-width">
                  <label for="eventDescription" class="required-label">Descripción:</label>
                  <textarea name="eventDescription" id="eventDescription" rows="5"
                    class="form-control {{#eventDescriptionError}}is-invalid{{/eventDescriptionError}}">{{eventDescription}}</textarea required>
                </div>
                <br>

                <div class="form-field">
                  <label for="eventTag">Tag del evento:</label>
                  <input type="text" name="eventTag" id="eventTag" value="{{eventTag}}"
                    class="form-control">
                </div>
                <br>

                <div class="form-field">
                  <label for="imageField" class="required-label">Imagen del evento:</label>
                  <input type="file" name="imageField" id="imageField"
                    class="form-control {{#imageError}}is-invalid{{/imageError}}" accept="image/*">
                </div>
                <br>

                <div class="form-field">
                  <label class="mb-2">¿El evento requiere registro?</label>
                  <div class="btn-group w-100" role="group">
                    {{#requiresRegistration}}
                    <input type="radio" class="btn-check" name="requiresRegistration" id="req-si" value="true" checked>
                    {{/requiresRegistration}}
                    {{^requiresRegistration}}
                    <input type="radio" class="btn-check" name="requiresRegistration" id="req-si" value="true">
                    {{/requiresRegistration}}
                    <label class="btn btn-outline-primary py-2" for="req-si">Sí</label>

                    {{#requiresRegistration}}
                    <input type="radio" class="btn-check" name="requiresRegistration" id="req-no" value="false">
                    {{/requiresRegistration}}
                    {{^requiresRegistration}}
                    <input type="radio" class="btn-check" name="requiresRegistration" id="req-no" value="false" checked>
                    {{/requiresRegistration}}
                    <label class="btn btn-outline-secondary py-2" for="req-no">No</label>
                  </div>
                </div>
                <br>

                {{#requiresRegistration}}
                <div id="link-container" class="form-field" style="display: block;">
                  {{/requiresRegistration}}

                  {{^requiresRegistration}}
                  <div id="link-container" class="form-field" style="display: none;">
                    {{/requiresRegistration}}

                    <label for="link" class="required-label">Enlace de registro:</label>
                    <input type="text" name="link" id="link" value="{{link}}"
                      class="form-control {{#linkError}}is-invalid{{/linkError}}">

                    {{#linkError}}
                    <div class="invalid-feedback text-danger" style="display: block;">
                      {{linkError}}
                    </div>
                    {{/linkError}}
                  </div>

                </div> {{/event}} <div class="row mt-4">
                  <div class="col-lg-3">
                    <a href="/events" class="submit-btn text-center pt-2"
                      style="text-decoration:none; display:block;">Atrás</a>
                  </div>
                  <div class="col-lg-2"></div>
                  <div class="col-lg-3">
                    <button type="submit" class="submit-btn"><span>Guardar Evento</span></button>
                  </div>
                </div>

                <input type="hidden" name="_csrf" value="{{token}}" />

            </form>
          </div>
        </div>
      </div>
    </div>
  </section>
</main>

{{>footer}}